# # for module compiling
# import os
# from building import *
# Import('RTT_ROOT')

# cwd = str(Dir('#'))

# src = Glob('*.c')

# # board configure files
# src += Glob('board/*.c')

# # board drivers
# src += Glob('drivers/*.c')
# src += Split('''
# drivers/usb/src/usb_bsp.c
# drivers/usb/src/usb_core.c
# drivers/usb/src/usb_dcd.c
# drivers/usb/src/usb_dcd_int.c
# drivers/usb/src/usbd_cdc_core_loopback.c
# drivers/usb/src/usbd_core.c
# drivers/usb/src/usbd_desc.c
# drivers/usb/src/usbd_ioreq.c
# drivers/usb/src/usbd_req.c
# drivers/usb/src/usbd_usr.c
# drivers/sdio/sd_dev.c
# drivers/sdio/sdio.c
# ''')


# inc = [cwd, cwd + '/board', cwd + '/drivers', cwd + '/drivers/usb/inc']

# group = DefineGroup('Board', src, depend = [''], CPPPATH = inc)

# Return('group')

# for module compiling
import os
Import('RTT_ROOT')
from building import *

cwd = GetCurrentDir()
objs = []
list = os.listdir(cwd)

for d in list:
    path = os.path.join(cwd, d)
    if os.path.isfile(os.path.join(path, 'SConscript')):
        objs = objs + SConscript(os.path.join(d, 'SConscript'))

Return('objs')

